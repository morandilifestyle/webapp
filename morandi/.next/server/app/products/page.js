(()=>{var e={};e.id=286,e.ids=[286],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},193:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>o}),t(7338),t(8916),t(5866);var a=t(3191),r=t(8716),l=t(7922),i=t.n(l),n=t(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let o=["",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7338)),"/Users/vaitahahavya/Projects/morandi/morandi/src/app/products/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8916)),"/Users/vaitahahavya/Projects/morandi/morandi/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/vaitahahavya/Projects/morandi/morandi/src/app/products/page.tsx"],m="/products/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/products/page",pathname:"/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9819:(e,s,t)=>{Promise.resolve().then(t.bind(t,9680))},9680:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var a=t(326),r=t(7577),l=t(5047),i=t(1244),n=t(6099);function c({filters:e,onFilterChange:s}){let[t,l]=(0,r.useState)({min:e.minPrice||0,max:e.maxPrice||500}),i=[{value:"organic_cotton",label:"Organic Cotton"},{value:"bamboo",label:"Bamboo"},{value:"bamboo_blend",label:"Bamboo Blend"},{value:"recycled_polyester",label:"Recycled Polyester"}],n=(e,a)=>{let r={...t,[e]:a};l(r),setTimeout(()=>{s({minPrice:r.min>0?r.min:void 0,maxPrice:r.max<500?r.max:void 0})},500)},c=e=>{s({material:e})},o=e=>{s({organicCertified:e})},d=e=>{s({featured:e})},m=e.minPrice||e.maxPrice||e.material||e.organicCertified||e.featured;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),m&&a.jsx("button",{onClick:()=>{s({minPrice:void 0,maxPrice:void 0,material:void 0,organicCertified:void 0,featured:void 0}),l({min:0,max:500})},className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear All"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Price Range"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Min Price"}),a.jsx("input",{type:"number",min:"0",max:t.max,value:t.min,onChange:e=>n("min",Number(e.target.value)),className:"input input-bordered input-sm w-full",placeholder:"0"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max Price"}),a.jsx("input",{type:"number",min:t.min,max:"1000",value:t.max,onChange:e=>n("max",Number(e.target.value)),className:"input input-bordered input-sm w-full",placeholder:"500"})]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["$",t.min," - $",t.max]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Material"}),(0,a.jsxs)("div",{className:"space-y-2",children:[i.map(s=>(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"material",value:s.value,checked:e.material===s.value,onChange:()=>c(s.value),className:"radio radio-primary radio-sm"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s.label})]},s.value)),(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"material",value:"",checked:!e.material,onChange:()=>c(""),className:"radio radio-primary radio-sm"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"All Materials"})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Certification"}),(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:e.organicCertified||!1,onChange:e=>o(e.target.checked),className:"checkbox checkbox-primary checkbox-sm"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Organic Certified Only"})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Product Type"}),(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:e.featured||!1,onChange:e=>d(e.target.checked),className:"checkbox checkbox-primary checkbox-sm"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Featured Products Only"})]})]}),m&&(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Active Filters"}),(0,a.jsxs)("div",{className:"space-y-1",children:[e.minPrice&&(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["Min Price: $",e.minPrice]}),e.maxPrice&&(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["Max Price: $",e.maxPrice]}),e.material&&(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["Material: ",i.find(s=>s.value===e.material)?.label]}),e.organicCertified&&a.jsx("div",{className:"text-xs text-gray-600",children:"Organic Certified Only"}),e.featured&&a.jsx("div",{className:"text-xs text-gray-600",children:"Featured Products Only"})]})]})]})}function o({initialValue:e="",onSearch:s}){let[t,l]=(0,r.useState)(e),[i,n]=(0,r.useState)([]),[c,o]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!1);(0,r.useRef)();let x=(0,r.useRef)(null),u=e=>{l(e.name),s(e.name),o(!1)};return(0,a.jsxs)("div",{className:"relative",ref:x,children:[a.jsx("form",{onSubmit:e=>{e.preventDefault(),s(t),o(!1)},children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:"text",value:t,onChange:e=>l(e.target.value),onKeyDown:e=>{"Escape"===e.key&&o(!1)},placeholder:"Search products...",className:"input input-bordered w-full pr-10"}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:d?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}):a.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),c&&i.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:i.map((e,s)=>(0,a.jsxs)("button",{onClick:()=>u(e),className:"w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none border-b border-gray-100 last:border-b-0",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.name}),e.short_description&&a.jsx("div",{className:"text-sm text-gray-600 mt-1 line-clamp-1",children:e.short_description})]},s))}),c&&t.length>=2&&0===i.length&&!d&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",children:(0,a.jsxs)("div",{className:"px-4 py-3 text-gray-500",children:['No products found for "',t,'"']})})]})}function d({categories:e,selectedCategory:s,selectedSubcategory:t,onCategorySelect:l}){let[i,n]=(0,r.useState)(new Set),c=e=>{let s=new Set(i);s.has(e)?s.delete(e):s.add(e),n(s)},o=(s,t=!1)=>{t?l(s.parent_id?e.find(e=>e.id===s.parent_id)?.slug:void 0,s.slug):l(s.slug,void 0)},d=e=>s===e.slug,m=e=>t===e.slug,x=s=>e.filter(e=>e.parent_id===s),u=e.filter(e=>!e.parent_id);return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("button",{onClick:()=>l(void 0,void 0),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${s||t?"text-gray-700 hover:bg-gray-100":"bg-blue-100 text-blue-700"}`,children:"All Products"}),u.map(e=>{let s=x(e.id),t=i.has(e.slug),r=d(e),l=s.some(e=>m(e));return(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{onClick:()=>{s.length>0?c(e.slug):o(e)},className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center justify-between ${r||l?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx("span",{children:e.name}),s.length>0&&a.jsx("svg",{className:`w-4 h-4 transition-transform ${t?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),s.length>0&&t&&a.jsx("div",{className:"ml-4 mt-1 space-y-1",children:s.map(e=>a.jsx("button",{onClick:()=>o(e,!0),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${m(e)?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:e.name},e.id))})]},e.id)})]}),s&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Currently viewing:"}),(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.find(e=>e.slug===s)?.name,t&&(0,a.jsxs)(a.Fragment,{children:[" > ",e.find(e=>e.slug===t)?.name]})]})]})]})}var m=t(383),x=t(9375);function u(){let e=(0,l.useSearchParams)(),s=(0,l.useRouter)(),[t,u]=(0,r.useState)([]),[h,g]=(0,r.useState)([]),[p,b]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,f]=(0,r.useState)({page:1,limit:12,total:0,totalPages:0}),N=()=>({category:e.get("category")||void 0,subcategory:e.get("subcategory")||void 0,search:e.get("search")||void 0,minPrice:e.get("minPrice")?Number(e.get("minPrice")):void 0,maxPrice:e.get("maxPrice")?Number(e.get("maxPrice")):void 0,material:e.get("material")||void 0,organicCertified:"true"===e.get("organicCertified"),featured:"true"===e.get("featured"),sort:e.get("sort")||"created_at",page:e.get("page")?Number(e.get("page")):1,limit:12}),P=e=>{let t=new URLSearchParams;Object.entries(e).forEach(([e,s])=>{null!=s&&""!==s&&t.set(e,String(s))}),s.push(`/products?${t.toString()}`)},w=async()=>{try{b(!0),v(null);let e=N(),s=await i.F.getProducts(e);u(s.products),f(s.pagination)}catch(e){v("Failed to load products. Please try again."),console.error("Error loading products:",e)}finally{b(!1)}},k=e=>{P({...N(),...e,page:1})};return j?a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error"}),a.jsx("p",{className:"text-gray-600 mb-4",children:j}),a.jsx("button",{onClick:w,className:"btn btn-primary",children:"Try Again"})]})})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Sustainable Textiles"}),a.jsx("p",{className:"text-gray-600",children:"Discover our premium collection of eco-friendly and organic textiles"})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("div",{className:"lg:w-1/4",children:(0,a.jsxs)("div",{className:"sticky top-8",children:[a.jsx("div",{className:"mb-6",children:a.jsx(o,{initialValue:N().search||"",onSearch:e=>k({search:e})})}),a.jsx("div",{className:"mb-6",children:a.jsx(d,{categories:h,selectedCategory:N().category,selectedSubcategory:N().subcategory,onCategorySelect:(e,s)=>k({category:e,subcategory:s})})}),a.jsx(c,{filters:N(),onFilterChange:k})]})}),(0,a.jsxs)("div",{className:"lg:w-3/4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:y.total>0?`${y.total} products found`:"No products found"}),N().search&&(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:['Search results for "',N().search,'"']})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:(0,a.jsxs)("select",{value:N().sort,onChange:e=>k({sort:e.target.value}),className:"select select-bordered w-full sm:w-auto",children:[a.jsx("option",{value:"created_at",children:"Newest"}),a.jsx("option",{value:"price_asc",children:"Price: Low to High"}),a.jsx("option",{value:"price_desc",children:"Price: High to Low"}),a.jsx("option",{value:"name_asc",children:"Name: A to Z"}),a.jsx("option",{value:"name_desc",children:"Name: Z to A"}),a.jsx("option",{value:"popularity",children:"Most Popular"})]})})]}),p?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(x.Z,{})}):t.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>a.jsx(n.Z,{product:e},e.id))}),y.totalPages>1&&a.jsx("div",{className:"mt-8",children:a.jsx(m.Z,{currentPage:y.page,totalPages:y.totalPages,onPageChange:e=>{P({...N(),page:e})}})})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters or search terms"}),a.jsx("button",{onClick:()=>{s.push("/products")},className:"btn btn-primary",children:"Clear Filters"})]})]})]})})]})}function h(){return a.jsx(r.Suspense,{fallback:a.jsx(x.Z,{}),children:a.jsx(u,{})})}},383:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(326);function r({currentPage:e,totalPages:s,onPageChange:t}){return s<=1?null:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>t(e-1),disabled:1===e,className:"btn btn-sm btn-outline",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(()=>{let t=[];if(s<=5)for(let e=1;e<=s;e++)t.push(e);else if(e<=3){for(let e=1;e<=4;e++)t.push(e);t.push("..."),t.push(s)}else if(e>=s-2){t.push(1),t.push("...");for(let e=s-3;e<=s;e++)t.push(e)}else{t.push(1),t.push("...");for(let s=e-1;s<=e+1;s++)t.push(s);t.push("..."),t.push(s)}return t})().map((s,r)=>a.jsx("button",{onClick:()=>"number"==typeof s&&t(s),disabled:"..."===s,className:`btn btn-sm ${s===e?"btn-primary":"..."===s?"btn-disabled":"btn-outline"}`,children:s},r)),a.jsx("button",{onClick:()=>t(e+1),disabled:e===s,className:"btn btn-sm btn-outline",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}},7338:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`/Users/vaitahahavya/Projects/morandi/morandi/src/app/products/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[975,928,929],()=>t(193));module.exports=a})();