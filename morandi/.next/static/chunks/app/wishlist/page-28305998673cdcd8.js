(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[456],{9294:function(e,t,r){Promise.resolve().then(r.bind(r,8629))},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var s=r(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:h,...m}=e;return(0,s.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:r,strokeWidth:i?24*Number(a)/Number(n):a,className:c("lucide",d),...!u&&!o(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,s.forwardRef)((r,a)=>{let{className:o,...l}=r;return(0,s.createElement)(d,{ref:a,iconNode:t,className:c("lucide-".concat(n(i(e))),"lucide-".concat(e),o),...l})});return r.displayName=i(e),r}},6275:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},8930:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8629:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var s=r(7437),n=r(2265);let a=r(257).env.NEXT_PUBLIC_API_URL||"http://localhost:3001/api";class i{static async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(a).concat(e),s=await fetch(r,{...t,headers:{"Content-Type":"application/json",...t.headers},credentials:"include"});if(!s.ok)throw Error((await s.json().catch(()=>({message:"Network error"}))).message||"HTTP error! status: ".concat(s.status));return s.json()}static async getWishlist(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return this.request("/wishlist?page=".concat(e,"&limit=").concat(t))}static async addToWishlist(e){return this.request("/wishlist/items",{method:"POST",body:JSON.stringify(e)})}static async removeFromWishlist(e){return this.request("/wishlist/items",{method:"DELETE",body:JSON.stringify(e)})}static async moveToCart(e){return this.request("/wishlist/items/move",{method:"POST",body:JSON.stringify(e)})}static async isInWishlist(e){return this.request("/wishlist/check/".concat(e))}static async getWishlistCount(){return this.request("/wishlist/count")}static async clearWishlist(){return this.request("/wishlist/clear",{method:"DELETE"})}}var c=r(2381),o=r(9820),l=r(2496),d=r(5240),u=r(9205);let h=(0,u.Z)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var m=r(8930),f=r(6275);let p=(0,u.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var x=r(7648),g=r(3145);function y(){let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0),[u,y]=(0,n.useState)(1),[v,b]=(0,n.useState)(0),[j]=(0,n.useState)(12);(0,n.useEffect)(()=>{N()},[u]);let N=async()=>{try{a(!0);let e=await i.getWishlist(u,j);t(e.items),b(e.totalCount)}catch(e){console.error("Error loading wishlist:",e)}finally{a(!1)}},w=async e=>{try{await i.removeFromWishlist({productId:e}),t(t=>t.filter(t=>t.productId!==e)),b(e=>e-1)}catch(e){console.error("Error removing from wishlist:",e)}},k=async e=>{try{await i.moveToCart({productId:e}),t(t=>t.filter(t=>t.productId!==e)),b(e=>e-1)}catch(e){console.error("Error moving to cart:",e)}},C=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e);return r?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,s.jsx)(l.Z,{})})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Wishlist"}),(0,s.jsxs)("p",{className:"text-gray-600",children:[v," ",1===v?"item":"items"," in your wishlist"]})]}),0===e.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(h,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your wishlist is empty"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Start adding products to your wishlist to save them for later."}),(0,s.jsx)(x.default,{href:"/products",children:(0,s.jsx)(c.z,{children:"Browse Products"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:e.map(e=>(0,s.jsxs)(o.Zb,{className:"group hover:shadow-lg transition-shadow",children:[(0,s.jsx)(o.Ol,{className:"p-4 pb-2",children:(0,s.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-lg",children:[(0,s.jsx)(g.default,{src:e.product.images[0]||"/placeholder-product.jpg",alt:e.product.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}),(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsx)(c.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-white/80 hover:bg-white",onClick:()=>w(e.productId),children:(0,s.jsx)(m.Z,{className:"h-4 w-4 text-red-500"})})})]})}),(0,s.jsxs)(o.aY,{className:"p-4 pt-2",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 line-clamp-2 mb-1",children:e.product.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.product.category.name}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-lg font-bold text-gray-900",children:C(e.product.salePrice||e.product.price)}),e.product.salePrice&&(0,s.jsx)("span",{className:"text-sm text-gray-500 line-through",children:C(e.product.price)})]}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["Added ",new Date(e.addedAt).toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(c.z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>k(e.productId),children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Add to Cart"]}),(0,s.jsx)(x.default,{href:"/products/".concat(e.product.slug),children:(0,s.jsx)(c.z,{variant:"ghost",size:"sm",children:(0,s.jsx)(p,{className:"h-4 w-4"})})})]})]})]},e.id))}),v>j&&(0,s.jsx)(d.Z,{currentPage:u,totalPages:Math.ceil(v/j),onPageChange:y})]})]})}},2496:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(7437);function n(e){let{size:t="md",className:r=""}=e;return(0,s.jsx)("div",{className:"flex justify-center items-center ".concat(r),children:(0,s.jsx)("div",{className:"animate-spin rounded-full border-b-2 border-primary ".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t])})})}},5240:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(7437);function n(e){let{currentPage:t,totalPages:r,onPageChange:n}=e;return r<=1?null:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>n(t-1),disabled:1===t,className:"btn btn-sm btn-outline",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(()=>{let e=[];if(r<=5)for(let t=1;t<=r;t++)e.push(t);else if(t<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(r)}else if(t>=r-2){e.push(1),e.push("...");for(let t=r-3;t<=r;t++)e.push(t)}else{e.push(1),e.push("...");for(let r=t-1;r<=t+1;r++)e.push(r);e.push("..."),e.push(r)}return e})().map((e,r)=>(0,s.jsx)("button",{onClick:()=>"number"==typeof e&&n(e),disabled:"..."===e,className:"btn btn-sm ".concat(e===t?"btn-primary":"..."===e?"btn-disabled":"btn-outline"),children:e},r)),(0,s.jsx)("button",{onClick:()=>n(t+1),disabled:t===r,className:"btn btn-sm btn-outline",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var s=r(7437),n=r(2265),a=r(3448);let i=n.forwardRef((e,t)=>{let{className:r,variant:n="default",size:i="default",...c}=e;return(0,s.jsx)("button",{className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===n,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===n,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline"===n,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===n,"hover:bg-accent hover:text-accent-foreground":"ghost"===n,"text-primary underline-offset-4 hover:underline":"link"===n},{"h-10 px-4 py-2":"default"===i,"h-9 rounded-md px-3":"sm"===i,"h-11 rounded-md px-8":"lg"===i,"h-10 w-10":"icon"===i},r),ref:t,...c})});i.displayName="Button"},9820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return c},Zb:function(){return i},aY:function(){return l},ll:function(){return o}});var s=r(7437),n=r(2265),a=r(3448);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});c.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})}).displayName="CardDescription";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});l.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(1994),n=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[624,137,971,117,744],function(){return e(e.s=9294)}),_N_E=e.O()}]);